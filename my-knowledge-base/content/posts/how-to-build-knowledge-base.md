çŸ¥è¯†åº“æ­å»ºå…¨æµç¨‹æŠ€æœ¯æ–‡æ¡£
æœ¬æ–‡æ¡£è®°å½•äº†ä»é›¶å¼€å§‹æ„å»º Next.js é™æ€çŸ¥è¯†åº“çš„å®Œæ•´è¿‡ç¨‹ã€‚ä½ å¯ä»¥å°†è¿™ç¯‡æ–‡æ¡£ä½œä¸ºæ¨¡æ¿ï¼Œæ·»åŠ åˆ°ä½ çš„çŸ¥è¯†åº“ä¸­ã€‚

ğŸ—ï¸ ä¸€ã€é¡¹ç›®æ¦‚è¿°
1.1 é¡¹ç›®ç›®æ ‡
æ„å»ºä¸€ä¸ªå®Œå…¨å…è´¹ã€åŸºäºGitHub Pagesçš„ä¸ªäººçŸ¥è¯†åº“ç½‘ç«™ï¼Œç”¨äºè®°å½•å’Œåˆ†äº«æŠ€æœ¯å­¦ä¹ ç¬”è®°ã€‚

1.2 æŠ€æœ¯é€‰å‹
æŠ€æœ¯æ ˆ	ç‰ˆæœ¬	ç”¨é€”	é€‰æ‹©ç†ç”±
Next.js	14.0.0	Reactæ¡†æ¶	App Routerã€é™æ€å¯¼å‡ºã€å¼€å‘ä½“éªŒå¥½
TypeScript	5.x	ç±»å‹å®‰å…¨	å‡å°‘è¿è¡Œæ—¶é”™è¯¯
Tailwind CSS	3.3.x	æ ·å¼æ¡†æ¶	å®ç”¨ä¼˜å…ˆã€å¿«é€Ÿå¼€å‘
GitHub Pages	-	æ‰˜ç®¡å¹³å°	å…è´¹ã€ç¨³å®šã€è‡ªåŠ¨åŒ–éƒ¨ç½²
1.3 æ ¸å¿ƒç‰¹æ€§
âœ… Markdownæ–‡ç« æ”¯æŒ

âœ… å®Œå…¨é™æ€ç”Ÿæˆï¼ˆæ— éœ€æœåŠ¡å™¨ï¼‰

âœ… GitHub Actionsè‡ªåŠ¨éƒ¨ç½²

âœ… å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰

âœ… å®¢æˆ·ç«¯å…¨æ–‡æœç´¢ï¼ˆå¾…å®ç°ï¼‰

ğŸ“ äºŒã€é¡¹ç›®ç»“æ„è¯¦è§£
text
my-knowledge-base/
â”œâ”€â”€ app/                    # Next.js App Router (æ ¸å¿ƒ)
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€Tailwindæ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â””â”€â”€ posts/
â”‚       â””â”€â”€ [slug]/       # åŠ¨æ€è·¯ç”±
â”‚           â””â”€â”€ page.tsx  # æ–‡ç« è¯¦æƒ…é¡µ
â”œâ”€â”€ content/               # å†…å®¹ç›®å½•ï¼ˆä½ çš„çŸ¥è¯†ï¼‰
â”‚   â””â”€â”€ posts/            # Markdownæ–‡ç« 
â”œâ”€â”€ lib/                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ markdown.ts       # Markdownå¤„ç†å™¨
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ generate-search-data.js
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ .github/workflows/    # GitHub Actions
â”‚   â””â”€â”€ deploy.yml       # è‡ªåŠ¨åŒ–éƒ¨ç½²
â””â”€â”€ é…ç½®æ–‡ä»¶ä»¬            # å„ç§é…ç½®æ–‡ä»¶
âš™ï¸ ä¸‰ã€æ ¸å¿ƒé…ç½®è§£æ
3.1 Next.jsé…ç½® (next.config.js)
javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',           // å…³é”®ï¼šå¯ç”¨é™æ€å¯¼å‡º
  images: { unoptimized: true }, // GitHub Pagesé™åˆ¶
  trailingSlash: true,        // URLä»¥/ç»“å°¾
  // basePath: '/ä»“åº“å',      // éç”¨æˆ·å.github.ioä»“åº“éœ€è¦
}
module.exports = nextConfig;
æ³¨æ„äº‹é¡¹ï¼š

âŒ ä¸è¦ä½¿ç”¨ next.config.tsï¼ˆä¸æ”¯æŒï¼‰

âœ… å¿…é¡»æ˜¯ next.config.js

3.2 ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§
ç»å†çš„å…³é”®é—®é¢˜ï¼šremark-gfm@^14.0.0 ç‰ˆæœ¬ä¸å­˜åœ¨

æœ€ç»ˆç¨³å®šç‰ˆæœ¬ï¼š

json
{
  "remark": "^14.0.0",
  "remark-gfm": "^13.0.0",
  "remark-html": "^15.0.0",
  "unified": "^10.0.0"
}
ç‰ˆæœ¬å…¼å®¹æ€§è¡¨ï¼š

åŒ…å	ç¨³å®šç‰ˆæœ¬	ä½œç”¨
Next.js	14.0.0	æ¡†æ¶æ ¸å¿ƒ
remark	14.0.0	Markdownè§£æ
remark-gfm	13.0.0	GitHubé£æ ¼Markdown
gray-matter	4.0.3	Front Matterè§£æ
ğŸš€ å››ã€å…³é”®å®ç°æ­¥éª¤
4.1 Markdownæ–‡ç« å¤„ç†æµç¨‹
typescript
// lib/markdown.ts æ ¸å¿ƒé€»è¾‘
1. è¯»å–æ–‡ä»¶ â†’ fs.readFileSync()
2. è§£æFront Matter â†’ gray-matter()
3. è½¬æ¢Markdown â†’ remark().use(gfm).use(html)
4. è®¡ç®—é˜…è¯»æ—¶é—´ â†’ content.length / 500
5. è¿”å›ç»“æ„åŒ–æ•°æ®
4.2 é¡µé¢æ¸²æŸ“ç­–ç•¥
é¦–é¡µ (app/page.tsx): å±•ç¤ºæœ€æ–°æ–‡ç« åˆ—è¡¨

è¯¦æƒ…é¡µ (app/posts/[slug]/page.tsx): åŠ¨æ€è·¯ç”±æ¸²æŸ“å•ç¯‡æ–‡ç« 

å¸ƒå±€ (app/layout.tsx): å…¨å±€å¯¼èˆªå’Œé¡µè„š

4.3 é‡åˆ°çš„å…¸å‹é—®é¢˜ä¸è§£å†³
é—®é¢˜	ç°è±¡	è§£å†³æ–¹æ¡ˆ
Next.jsé»˜è®¤é¡µ	çœ‹åˆ°ä¸‰è§’å½¢logo	ç¡®ä¿app/page.tsxå­˜åœ¨ä¸”æ­£ç¡®
å­—ä½“å¯¼å…¥é”™è¯¯	inter is not defined	ç§»é™¤Googleå­—ä½“æˆ–å®Œæ•´å¯¼å…¥
å®¢æˆ·ç«¯ç»„ä»¶é”™è¯¯	'client-only'é”™è¯¯	äº¤äº’ç»„ä»¶æ·»åŠ 'use client'
ç‰ˆæœ¬ä¸å­˜åœ¨	ETARGETé”™è¯¯	ä½¿ç”¨å…¼å®¹ç‰ˆæœ¬
æ¢è¡Œç¬¦è­¦å‘Š	LF replaced by CRLF	æ·»åŠ .gitattributesæ–‡ä»¶
ğŸ”§ äº”ã€éƒ¨ç½²æµç¨‹
5.1 æœ¬åœ°å¼€å‘æµç¨‹
bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 3. è®¿é—®æµ‹è¯•
http://localhost:3000

# 4. ç”Ÿæˆæœç´¢æ•°æ®ï¼ˆæ„å»ºå‰ï¼‰
npm run generate-search

# 5. æµ‹è¯•æ„å»º
npm run build
5.2 GitHub Pageséƒ¨ç½²æµç¨‹
æ­¥éª¤1ï¼šåˆ›å»ºGitHubä»“åº“
è®¿é—® https://github.com/new

ä»“åº“åå»ºè®®ï¼š

ä¸ªäººä¸»é¡µ: ç”¨æˆ·å.github.io

é¡¹ç›®é¡µ: my-knowledge-baseï¼ˆè®¿é—®åœ°å€ä¸ºç”¨æˆ·å.github.io/my-knowledge-baseï¼‰

æ­¥éª¤2ï¼šé…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²
.github/workflows/deploy.yml ä¼šè‡ªåŠ¨ï¼š

âœ… ç›‘å¬ main åˆ†æ”¯æ¨é€

âœ… å®‰è£…ä¾èµ–å’Œæ„å»º

âœ… ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° out/ ç›®å½•

âœ… éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯

æ­¥éª¤3ï¼šæ¨é€ä»£ç 
bash
git add .
git commit -m "åˆå§‹åŒ–çŸ¥è¯†åº“"
git push origin main
æ­¥éª¤4ï¼šæŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
è®¿é—®ä½ çš„GitHubä»“åº“

ç‚¹å‡» Actions æ ‡ç­¾

ç­‰å¾…å·¥ä½œæµå˜ç»¿ï¼ˆâœ“ï¼‰

è®¿é—®ä½ çš„GitHub Pagesåœ°å€

ğŸ“ å…­ã€å†…å®¹ç®¡ç†æŒ‡å—
6.1 å¦‚ä½•æ·»åŠ æ–°æ–‡ç« 
åœ¨ content/posts/ åˆ›å»º .md æ–‡ä»¶

æ·»åŠ Front Matterï¼ˆå…ƒæ•°æ®ï¼‰:

markdown
---
title: 'æ–‡ç« æ ‡é¢˜'
date: '2024-01-21'
tags: ['æ ‡ç­¾1', 'æ ‡ç­¾2']
category: 'åˆ†ç±»'
excerpt: 'æ–‡ç« æ‘˜è¦'
---
ä½¿ç”¨Markdownç¼–å†™å†…å®¹

æ¨é€ä»£ç åˆ°GitHub

6.2 Front Matterå­—æ®µè¯´æ˜
å­—æ®µ	å¿…å¡«	ç¤ºä¾‹	è¯´æ˜
title	æ˜¯	'Next.jså…¥é—¨'	æ–‡ç« æ ‡é¢˜
date	æ˜¯	'2024-01-21'	å‘å¸ƒæ—¶é—´
tags	å¦	['å‰ç«¯', 'React']	æ ‡ç­¾æ•°ç»„
category	å¦	'æŠ€æœ¯'	åˆ†ç±»
excerpt	å¦	'æ–‡ç« æ‘˜è¦...'	é¦–é¡µæ˜¾ç¤ºæ‘˜è¦
ğŸ§¹ ä¸ƒã€ç»´æŠ¤ä¸æ•…éšœæ’é™¤
7.1 ç¼“å­˜æ¸…ç†å‘½ä»¤
bash
# å¸¸è§„æ¸…ç†
rmdir /s /q .next

# å½»åº•æ¸…ç†ï¼ˆè§£å†³å¥‡æ€ªé—®é¢˜ï¼‰
taskkill /f /im node.exe
rmdir /s /q node_modules .next out
npm cache clean --force
npm install
7.2 å¸¸è§é—®é¢˜é€ŸæŸ¥
ç—‡çŠ¶	å¯èƒ½åŸå› 	è§£å†³æ–¹æ¡ˆ
é¡µé¢ç©ºç™½	æ„å»ºå¤±è´¥	æ£€æŸ¥GitHub Actionsæ—¥å¿—
æ ·å¼ä¸¢å¤±	Tailwindé…ç½®	æ£€æŸ¥tailwind.config.ts
æ–‡ç« ä¸æ˜¾ç¤º	Markdownè§£æé”™è¯¯	æ£€æŸ¥lib/markdown.ts
404é¡µé¢	è·¯ç”±é”™è¯¯	æ£€æŸ¥[slug]ç›®å½•å
éƒ¨ç½²å¤±è´¥	ç‰ˆæœ¬å†²çª	ä½¿ç”¨æ–‡æ¡£ä¸­çš„å…¼å®¹ç‰ˆæœ¬
ğŸš€ å…«ã€åç»­æ‰©å±•è®¡åˆ’
8.1 ç¬¬ä¸€é˜¶æ®µï¼ˆå·²å®Œæˆï¼‰
âœ… åŸºç¡€é™æ€ç½‘ç«™æ­å»º

âœ… Markdownæ–‡ç« æ”¯æŒ

âœ… GitHub Pageséƒ¨ç½²

8.2 ç¬¬äºŒé˜¶æ®µï¼ˆå¾…å®ç°ï¼‰
ğŸ”² åˆ†ç±»å’Œæ ‡ç­¾é¡µé¢

ğŸ”² å®¢æˆ·ç«¯å…¨æ–‡æœç´¢

ğŸ”² RSSè®¢é˜…åŠŸèƒ½

ğŸ”² æ–‡ç« ç›®å½•å¯¼èˆª

8.3 ç¬¬ä¸‰é˜¶æ®µï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
ğŸ”² æš—é»‘æ¨¡å¼åˆ‡æ¢

ğŸ”² é˜…è¯»è¿›åº¦ç»Ÿè®¡

ğŸ”² è¯„è®ºç³»ç»Ÿï¼ˆGiscusï¼‰

ğŸ”² æ–‡ç« æµè§ˆé‡ç»Ÿè®¡

ğŸ’¡ ä¹ã€æœ€ä½³å®è·µå»ºè®®
9.1 å†™ä½œå»ºè®®
ä¿æŒä¸€è‡´æ€§ï¼šæ–‡ç« ç»“æ„å’ŒFront Matteræ ¼å¼ç»Ÿä¸€

ä½¿ç”¨æ ‡ç­¾ï¼šåˆç†åˆ†ç±»ï¼Œæ–¹ä¾¿æŸ¥æ‰¾

å®šæœŸå¤‡ä»½ï¼šGitHubå·²ç»æ˜¯å¤‡ä»½ï¼Œä½†å¯å®šæœŸå¯¼å‡º

æ¸è¿›å¼æ›´æ–°ï¼šå…ˆå®Œæˆï¼Œå†å®Œç¾

9.2 æŠ€æœ¯ç»´æŠ¤
ä¾èµ–æ›´æ–°ï¼šå®šæœŸæ£€æŸ¥ npm outdated

æµ‹è¯•éƒ¨ç½²ï¼šæ¯æ¬¡å¤§æ”¹åŠ¨å‰å…ˆæœ¬åœ°æ„å»ºæµ‹è¯•

ç‰ˆæœ¬æ§åˆ¶ï¼šä¿æŒä¾èµ–ç‰ˆæœ¬ç¨³å®šï¼Œé¿å…é¢‘ç¹å‡çº§

æ–‡æ¡£æ›´æ–°ï¼šæŠ€æœ¯å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ­¤æ–‡æ¡£

ğŸ“Š åã€é¡¹ç›®æ£€æŸ¥æ¸…å•
éƒ¨ç½²å‰æ£€æŸ¥
next.config.js é…ç½®æ­£ç¡®

package.json ä¾èµ–ç‰ˆæœ¬å…¼å®¹

content/posts/ æœ‰è‡³å°‘ä¸€ç¯‡æ–‡ç« 

npm run build æœ¬åœ°æµ‹è¯•é€šè¿‡

GitHubä»“åº“å·²åˆ›å»ºå¹¶å…³è”

ä¸Šçº¿åéªŒè¯
GitHub Actionså·¥ä½œæµæˆåŠŸ

GitHub Pagesæ˜¾ç¤ºæ­£ç¡®

é¦–é¡µæ–‡ç« åˆ—è¡¨æ­£å¸¸

æ–‡ç« è¯¦æƒ…é¡µå¯è®¿é—®

ç§»åŠ¨ç«¯å“åº”å¼æ­£å¸¸

ğŸ¯ ç»“è¯­
æ­å–œï¼ä½ å·²ç»æˆåŠŸæ­å»ºäº†ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººçŸ¥è¯†åº“ã€‚è¿™ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œæ›´æ˜¯ä½ å­¦ä¹ å†ç¨‹çš„æ•°å­—è§è¯ã€‚

è®°ä½ï¼š

å†™ä½œæ˜¯æœ€å¥½çš„å­¦ä¹  - é€šè¿‡è®°å½•æ¥å·©å›ºçŸ¥è¯†

åˆ†äº«åˆ›é€ ä»·å€¼ - ä½ çš„ç»éªŒå¯èƒ½å¸®åŠ©åˆ°ä»–äºº

æŒç»­è¿­ä»£ - æŠ€æœ¯ä¼šå˜ï¼Œä½†çŸ¥è¯†ç®¡ç†çš„ä¹ æƒ¯æ°¸ä¸è¿‡æ—¶

ç°åœ¨ï¼Œå¼€å§‹ç”¨è¿™ä¸ªçŸ¥è¯†åº“è®°å½•ä½ çš„æŠ€æœ¯æˆé•¿å§ï¼

ğŸ“ é™„å½•ï¼šå®ç”¨å‘½ä»¤é€ŸæŸ¥
bash
# å¼€å‘
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run generate-search  # ç”Ÿæˆæœç´¢æ•°æ®

# Git
git add .                # æ·»åŠ æ‰€æœ‰æ›´æ”¹
git commit -m "æ¶ˆæ¯"     # æäº¤æ›´æ”¹
git push origin main     # æ¨é€åˆ°GitHub

# ç»´æŠ¤
npm outdated             # æ£€æŸ¥è¿‡æ—¶ä¾èµ–
npm update              # æ›´æ–°ä¾èµ–
npm audit fix           # ä¿®å¤å®‰å…¨æ¼æ´
ğŸš€ éƒ¨ç½²è¿™ç¯‡æ–‡æ¡£åˆ°ä½ çš„çŸ¥è¯†åº“
æ­¥éª¤1ï¼šä¿å­˜ä¸ºMarkdownæ–‡ä»¶
å°†ä¸Šé¢çš„å®Œæ•´å†…å®¹ä¿å­˜ä¸º content/posts/how-to-build-knowledge-base.md

æ­¥éª¤2ï¼šåˆ›å»ºè„šæœ¬å¿«é€Ÿæ·»åŠ ï¼ˆå¯é€‰ï¼‰
åˆ›å»º add-document.batï¼š

batch
@echo off
echo æ­£åœ¨åˆ›å»ºæŠ€æœ¯æ–‡æ¡£...

(
echo # çŸ¥è¯†åº“æ­å»ºå…¨æµç¨‹æŠ€æœ¯æ–‡æ¡£
echo.
echo ^> æœ¬æ–‡æ¡£è®°å½•äº†ä»é›¶å¼€å§‹æ„å»º Next.js é™æ€çŸ¥è¯†åº“çš„å®Œæ•´è¿‡ç¨‹ã€‚ä½ å¯ä»¥å°†è¿™ç¯‡æ–‡æ¡£ä½œä¸ºæ¨¡æ¿ï¼Œæ·»åŠ åˆ°ä½ çš„çŸ¥è¯†åº“ä¸­ã€‚
echo.
echo ...ï¼ˆè¿™é‡Œæ”¾ç½®ä¸Šé¢çš„å®Œæ•´å†…å®¹ï¼‰...
) > content\posts\how-to-build-knowledge-base.md

echo æ–‡æ¡£å·²åˆ›å»ºï¼šcontent\posts\how-to-build-knowledge-base.md
echo.
echo ç°åœ¨æ‰§è¡Œï¼š
echo 1. git add .
echo 2. git commit -m "æ·»åŠ æŠ€æœ¯æ–‡æ¡£"
echo 3. git push origin main
pause
æ­¥éª¤3ï¼šæ¨é€å¹¶éƒ¨ç½²
bash
# æ·»åŠ æ–‡æ¡£
git add content/posts/how-to-build-knowledge-base.md

# æäº¤æ›´æ”¹
git commit -m "æ·»åŠ çŸ¥è¯†åº“æ­å»ºæŠ€æœ¯æ–‡æ¡£"

# æ¨é€åˆ°GitHub
git push origin main
æ­¥éª¤4ï¼šè®¿é—®åœ¨çº¿æ–‡æ¡£
éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ï¼š

text
https://ä½ çš„ç”¨æˆ·å.github.io/ä»“åº“å/posts/how-to-build-knowledge-base/
ğŸ“ è·å–å¸®åŠ©
å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

æ£€æŸ¥GitHub Actionsæ—¥å¿—ï¼šä»“åº“ â†’ Actions â†’ æœ€æ–°å·¥ä½œæµ

æŸ¥çœ‹å¸¸è§é—®é¢˜ï¼šæœ¬æ–‡æ¡£ç¬¬ä¸ƒèŠ‚

æœ¬åœ°æµ‹è¯•ï¼šå…ˆè¿è¡Œ npm run build ç¡®ä¿æœ¬åœ°æ„å»ºæˆåŠŸ

æ¸…ç†ç¼“å­˜ï¼šæŒ‰ç…§ç¬¬ä¸ƒèŠ‚çš„ç¼“å­˜æ¸…ç†æ­¥éª¤æ“ä½œ

æ­å–œä½ ï¼ç°åœ¨ä½ ä¸ä»…æ‹¥æœ‰ä¸€ä¸ªè¿è¡Œä¸­çš„çŸ¥è¯†åº“ï¼Œè¿˜æœ‰äº†å®Œæ•´çš„æ­å»ºæ–‡æ¡£ã€‚è¿™æ˜¯ä½ æŠ€æœ¯å­¦ä¹ ä¹‹è·¯çš„é‡è¦é‡Œç¨‹ç¢‘ï¼ ğŸ‰